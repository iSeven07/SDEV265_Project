{% extends 'base.html' %} {% block content %}
<div class="container">
  <h1>{{ recipe.title }}</h1>
  <p>{{ recipe.content }}</p>
  <p><a href="{% url 'user-profile' recipe.author.username %}">{{ recipe.author }}</a></p>
  <p>{{ recipe.date }}</p>

  <form method="post" action="{% url 'rate_recipe' recipe.id %}">
    {% csrf_token %}
    <label for="rating">Rate this recipe:</label>
    <input type="number" id="rating" name="rating" min="1" max="5" />
    <button type="submit">Submit Rating</button>
  </form>

  <p>Total Ratings: {{ recipe.rating_set.count }}</p>

  {% if average_rating %} Average Rating: {{ average_rating|floatformat:1 }} {%
  else %} No ratings yet. {% endif %}
</div>

<!-- Display rating form here for authenticated users -->

<!-- Display existing ratings with stars -->

{% endblock content %}
